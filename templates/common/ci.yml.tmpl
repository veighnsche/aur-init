name: AUR CI
on: [push, pull_request]
jobs:
  srcinfo:
    runs-on: ubuntu-latest
    container: archlinux:latest
    steps:
      - uses: actions/checkout@v4
      - name: Install build tools
        run: pacman -Syu --noconfirm base-devel git namcap
      - name: Generate .SRCINFO
        run: makepkg --printsrcinfo > .SRCINFO
      - name: Show .SRCINFO
        run: cat .SRCINFO || true
      - name: Run namcap
        run: |
          namcap PKGBUILD || true
          if [[ -f .SRCINFO ]]; then namcap .SRCINFO || true; fi
